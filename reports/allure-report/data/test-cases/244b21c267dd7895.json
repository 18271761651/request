{"uid":"244b21c267dd7895","name":"test_upload[caseinfo0]","fullName":"testcases.test_01.TestRequest#test_upload","historyId":"0fb339f88bd9e92482131cf69961dfb4","time":{"start":1667389624592,"stop":1667389624627,"duration":35},"status":"failed","statusMessage":"AssertionError: assert -1 == 1","statusTrace":"self = <request.testcases.test_01.TestRequest object at 0x0000021E5C45BBB0>\ncaseinfo = {'name': '上传图片', 'request': {'file': {'filename': '鬼灭之刃.jpg', 'filepath': 'E:\\\\图片\\\\Saved Pictures\\\\鬼灭之刃.jpg', 'formate... 'module': 'Goods'}, 'method': 'post', 'url': 'http://116.63.186.61:2031/api/Common/Files/Upload'}, 'validate': 'None'}\n\n    @allure.story(\"上传文件\")\n    @pytest.mark.parametrize('caseinfo',YamlUtil().read_testcase_yaml('upload.yml'))\n    def test_upload(self,caseinfo):\n        f'''{caseinfo['name']}'''\n        headers=YamlUtil().read_extract_yaml()\n        url = caseinfo['request']['url']\n        method = caseinfo['request']['method']\n        module=caseinfo['request']['file']['module']\n        filename=caseinfo['request']['file']['filename']\n        filepath=caseinfo['request']['file']['filepath']\n        formate=caseinfo['request']['file']['formate']\n        file={\n            'module': module,\n            'Files': filepath\n        }\n        # 因为16位数随机的，每次都不一样\n        boundary = '----WebKitFormBoundary' \\\n                   + ''.join(random.sample(string.ascii_letters + string.digits, 16))\n    \n        data = MultipartEncoder(fields=file, boundary=boundary)\n        headers[\"Content-Type\"] = data.content_type\n        # '''添加监听器'''\n        # data_2=MultipartEncoderMonitor(data_1, self.my_callback)\n        r = ReuqestsUtil().send_request(method=method,url=url, headers=headers, data=data)\n>       assert r.json()['businessStatus']==1\nE       assert -1 == 1\n\ntest_01.py:70: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_yaml","time":{"start":1667389624494,"stop":1667389624495,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_xunit_setup_method_fixture_TestRequest","time":{"start":1667389624592,"stop":1667389624592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"afterStages":[{"name":"_xunit_setup_method_fixture_TestRequest::0","time":{"start":1667389624785,"stop":1667389624785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"测试类名"},{"name":"story","value":"上传文件"},{"name":"parentSuite","value":"testcases"},{"name":"suite","value":"test_01"},{"name":"subSuite","value":"TestRequest"},{"name":"host","value":"Liukang-PC"},{"name":"thread","value":"12412-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.test_01"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"caseinfo","value":"{'name': '上传图片', 'request': {'method': 'post', 'url': 'http://116.63.186.61:2031/api/Common/Files/Upload', 'file': {'module': 'Goods', 'filename': '鬼灭之刃.jpg', 'filepath': 'E:\\\\图片\\\\Saved Pictures\\\\鬼灭之刃.jpg', 'formate': 'image.png'}}, 'validate': 'None'}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"244b21c267dd7895.json","parameterValues":["{'name': '上传图片', 'request': {'method': 'post', 'url': 'http://116.63.186.61:2031/api/Common/Files/Upload', 'file': {'module': 'Goods', 'filename': '鬼灭之刃.jpg', 'filepath': 'E:\\\\图片\\\\Saved Pictures\\\\鬼灭之刃.jpg', 'formate': 'image.png'}}, 'validate': 'None'}"]}