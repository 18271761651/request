{"uid":"3d4aab9de998b97e","name":"test_upload","fullName":"testcases.test_01.TestRequest#test_upload","historyId":"f17f9761c8921391e1a73f24607a6055","time":{"start":1667308329639,"stop":1667308329640,"duration":1},"description":"图片上传","descriptionHtml":"<p>图片上传</p>\n","status":"broken","statusMessage":"TypeError: 'NoneType' object does not support item assignment","statusTrace":"self = <request.testcases.test_01.TestRequest object at 0x00000299E1FCFB20>\nconn_database = None\n\n    @allure.story(\"上传文件\")\n    def test_upload(self,conn_database):\n        '''图片上传'''\n        url='http://116.63.186.61:2031/api/Common/Files/Upload'\n        headers=YamlUtil().read_extract_yaml()\n        file={\n            'module': 'Goods',\n            'Files': ('弥豆子.jpg', open('E:\\图片\\Saved Pictures\\鬼灭之刃.jpg','rb'), 'image.png')\n        }\n        # 因为16位数随机的，每次都不一样\n        boundary = '----WebKitFormBoundary' \\\n                   + ''.join(random.sample(string.ascii_letters + string.digits, 16))\n    \n        data = MultipartEncoder(fields=file, boundary=boundary)\n>       headers[\"Content-Type\"] = data.content_type\nE       TypeError: 'NoneType' object does not support item assignment\n\ntest_01.py:56: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_yaml","time":{"start":1667308329633,"stop":1667308329633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_xunit_setup_method_fixture_TestRequest","time":{"start":1667308329638,"stop":1667308329639,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"conn_database","time":{"start":1667308329639,"stop":1667308329639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"afterStages":[{"name":"conn_database::0","time":{"start":1667308329796,"stop":1667308329796,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_xunit_setup_method_fixture_TestRequest::0","time":{"start":1667308329798,"stop":1667308329798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"story","value":"上传文件"},{"name":"feature","value":"测试类名"},{"name":"parentSuite","value":"testcases"},{"name":"suite","value":"test_01"},{"name":"subSuite","value":"TestRequest"},{"name":"host","value":"Liukang-PC"},{"name":"thread","value":"12884-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.test_01"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"3d4aab9de998b97e.json","parameterValues":[]}