{"name": "test_upload[caseinfo0]", "status": "failed", "statusDetails": {"message": "AssertionError: assert -1 == 1", "trace": "self = <request.testcases.test_01.TestRequest object at 0x000002295B71C7C0>\ncaseinfo = {'request': {'file': {'Files': \"('弥豆子.jpg', open('E:\\\\图片\\\\Saved Pictures\\\\鬼灭之刃.jpg','rb'), 'image.png')\", 'module': 'Goods'}, 'method': 'post', 'url': 'http://116.63.186.61:2031/api/Common/Files/Upload'}, 'validate': 'None'}\n\n    @allure.story(\"上传文件\")\n    @pytest.mark.parametrize('caseinfo',YamlUtil().read_testcase_yaml('upload.yml'))\n    def test_upload(self,caseinfo):\n        '''图片上传'''\n        headers = YamlUtil().read_extract_yaml()\n        url = caseinfo['request']['url']\n        file = caseinfo['request']['file']\n        method = caseinfo['request']['method']\n    \n        # 因为16位数随机的，每次都不一样\n        boundary = '----WebKitFormBoundary' \\\n                   + ''.join(random.sample(string.ascii_letters + string.digits, 16))\n    \n        data = MultipartEncoder(fields=file, boundary=boundary)\n        headers[\"Content-Type\"] = data.content_type\n        # '''添加监听器'''\n        # data_2=MultipartEncoderMonitor(data_1, self.my_callback)\n        r = self.session.request(method=method, url=url, headers=headers, data=data)\n>       assert r.json()['businessStatus'] == 1\nE       assert -1 == 1\n\ntest_01.py:63: AssertionError"}, "description": "图片上传", "parameters": [{"name": "caseinfo", "value": "{'request': {'method': 'post', 'url': 'http://116.63.186.61:2031/api/Common/Files/Upload', 'file': {'module': 'Goods', 'Files': \"('弥豆子.jpg', open('E:\\\\图片\\\\Saved Pictures\\\\鬼灭之刃.jpg','rb'), 'image.png')\"}}, 'validate': 'None'}"}], "start": 1667311590595, "stop": 1667311590684, "uuid": "64d26738-2633-4a3c-9042-a3a51d2afe54", "historyId": "0fb339f88bd9e92482131cf69961dfb4", "testCaseId": "43e0d2d7ee5c50ed1d0c58510b835416", "fullName": "testcases.test_01.TestRequest#test_upload", "labels": [{"name": "feature", "value": "测试类名"}, {"name": "story", "value": "上传文件"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_01"}, {"name": "subSuite", "value": "TestRequest"}, {"name": "host", "value": "Liukang-PC"}, {"name": "thread", "value": "18940-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_01"}]}